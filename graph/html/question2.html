<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crimes cases in San Fransisco</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
</head>
<body>
<section class="section">
    <div class="container">
        <h1 class="title is-1">Crimes cases in San Fransisco</h1>
        <div class="tabs is-centered is-boxed">
            <ul>
                <li><a href="./index.html">Index</a></li>
                <li><a href="./question1.html">Question 1</a></li>
                <li class="is-active"><a href="./question2.html">Question 2</a></li>
                <li><a href="./question3.html">Question 3</a></li>
                <li><a href="./question4.html">Question 4</a></li>
                <li><a href="./question5.html">Question 5</a></li>
                <li><a href="./question5alt.html">Question 5+</a></li>
            </ul>
        </div>

        <h3 class="title is-3 is-spaced">Question 2</h3>
        <h5 class="subtitle is-5 is-spaced">Donnez le nombre de crimes en fonction de 6 plages horaires (0-4, 4-8, 8-12, 12-16, 16-20, 20-24)</h5>
        <h3 class="title is-3 is-spaced">Données techniques</h3>
        <p>Cette éxécution a été réalisée sur le cluster hadoop de l'ufr</p>
        <br>
        <h5 class="title is-5">Temps de traitement</h5>
        <p>
            Total time spent by all map tasks (ms)=280378<br>
            Total time spent by all reduce tasks (ms)=19099
        </p><br>
        <p>
            Map input records=6486072<br>
            Map output records=6486071
        </p><br>
        <p>
            Reduce input records=6486071<br>
            Reduce output records=6
        </p><br>
        <h5 class="title is-5">Mapper</h5>
        <p>
            Le mapper récupère le l'heure de chaque ligne et l'associe à un String ("0-4", "4-8"...)<br>
            Il écrit ensuite dans le context sous la forme (String, 1). Le String est une plage horaire, pour que le reducer puisse ensuite compter le nombre de crime pour chaque plage.
        </p><br>
        <h5 class="title is-5">Reducer</h5>
        <p>
            Ce reducer est très similaire à celui de la question 1<br>
            Il instancie une Map dans sa phase de setup()<br>
            Dans la partie reduce() il compte le nombre d'éléments associé à chaque plage horaire (ici le nombre de 1), et ajoute à la Map une entrée (key, count)<br>
            Enfin dans la partie cleanUp(), les entrés de la Map sont triées et on écrit dans le context la plage horaire avec son nombre d'occurences
        </p><br>

        <h3 class="title is-3 is-spaced">Graphique</h3>
        <div id="chart_div"></div>
    </div>
</section>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type='text/javascript' src='../js/question2.js'></script>
</body>
</html>